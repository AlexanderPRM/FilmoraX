![GitHub Actions Workflow Status](https://img.shields.io/github/actions/workflow/status/AlexanderPRM/FilmoraX/linters.yaml)
![License](https://img.shields.io/github/license/AlexanderPRM/FilmoraX.svg)
![GitHub repo size](https://img.shields.io/github/repo-size/AlexanderPRM/FilmoraX)
![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/AlexanderPRM/FilmoraX)
![GitHub Release](https://img.shields.io/github/v/release/AlexanderPRM/FilmoraX)

# FilmoraX

Репозиторий для разработки онлайн-кинотеатра с исправленными багами и новым функционалом. Проект состоит из нескольких микросервисов, которые в совокупности предоставляют функционал онлайн-кинотеатра.

Разработка введется по принципу "Чистая архитектура".

В проекте используются следующие микросервисы:

- Микросервис авторизации и аутентификации пользователей с использованием JWT токенов. (В разработке).
- Микросервис для работы с фильмами и их поиску (Запланирован).
- Микросервис для работы с контентом, генерируемым пользователями. Это лайки, рецензии, просмотры фильмов (Запланирован).
- Микросервис оплаты подписок. (Запланирован).
- Микросервис уведомлений пользователей, например, отправка писем на почту (Запланирован).

И несколько других (Запланировано).

В качестве API Gateway используется Nginx. Если требуется проверка прав пользователя, он отправляет запрос в микросервис авторизации и перенаправляет запрос дальше, только в случае успеха.

В каталоге конкретного микросервиса есть README файлы с подробным описанием его работы.

## Инструкция по запуску

Каждый микросервис имеет два файла:

```bash
[microservice_name]
   ├── .env.example
   ├── .env.prod.example
```

Для запуска нужно убрать расширение .example, файл .env используется для разработки, а файл .env.prod для продакшена. Если вы хотите запустить в режиме продакшена, заполните переменные в файле .env.prod

Каждый микросервис использует Sentry для логирования, если вы хотите его использовать, заполните DSN в env файлах. [**Главная страница технологии**](https://sentry.io/)

В корне проекта есть файл ./start.sh написанном на языке Bash.
В нем прописаны команды для запуска всего проекта.

```bash
# Запуск проекта в режиме разработки.
./start.sh --type=develop

# Запуск проекта в режиме продакшена.
./start.sh --type=production
```

Для работы проекта требуется Docker - [**Руководство по установке**](https://docs.docker.com/manuals/)
